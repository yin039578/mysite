# python 專案專用的prompt
- [python 專案專用的prompt](#python-專案專用的prompt)
- [DB](#db)
    - [資料表盤點](#資料表盤點)

# DB
### 資料表盤點
```
任务：将项目中所有 models.py 的数据库模型定义整合到单一文件

目的：
1. 完整汇整所有数据表定义，方便后续数据盘点与加密策略调整
2. 建立数据库架构的完整视图
3. 保留所有表格关联关系，便于理解数据流
4. 保留所有字段的注释说明，确保业务含义完整保留

搜索范围：
1. 扫描项目所有目录下的 models.py 文件
2. 包含子目录中的 models.py（如 xxx/yyy/models.py）
3. 确保不遗漏任何数据模型定义

整合原则：
1. 保持原有代码结构，不需修改或优化
2. 完整复制所有 class 定义，包括：
   - class 的注释说明
   - 表格名称（__tablename__）
   - 所有字段定义及其注释
   - 字段属性（primary_key、nullable、default 等）
   - 索引定义（Index）
   - 唯一约束（UniqueConstraint）
   - 表格参数（__table_args__）
3. 保留所有特殊处理：
   - 加解密相关的属性和方法（如 @property 装饰器定义的加解密方法）
   - 关系定义（relationship）
   - 状态常量定义
4. 即使标记为待删除的表格也要包含（如带有 "需要准备删除" 注释的表格）

输出要求：
1. 在项目根目录下的 workspace/model.py 中创建整合后的文件
2. 确保导入所需的所有依赖（如 datetime、uuid 等）
3. 保持代码格式一致（缩进、空行等）
4. 按照功能模块分组整理（可用注释分隔不同模块的表格）

验证步骤：
1. 确认所有 models.py 文件都已处理
2. 计算每个文件中的 class 数量，确保全部转移
3. 检查是否有重复的 class 定义
4. 验证所有外键关系的完整性

不需要考虑的内容：
1. 代码的可执行性（如缺少的常量定义）
2. 优化或重构代码结构
3. 修改现有的字段定义或关系
4. 删除被标记为待删除的表格

使用方式：
1. 提供项目根目录路径
2. 告知项目中所有 models.py 文件的位置
3. 系统会自动：
   - 扫描所有 models.py 文件
   - 提取所有 class 定义
   - 整合到单一文件
   - 进行完整性验证

预期成果：
1. 一个包含所有数据库表定义的完整文件
2. 保留所有业务逻辑相关的注释
3. 便于进行数据库结构分析
4. 方便后续进行数据加密策略调整
```

